(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{57:function(e,t,o){e.exports=o.p+"static/media/logo.5d5d9eef.svg"},63:function(e,t,o){e.exports=o(91)},68:function(e,t,o){},69:function(e,t,o){},88:function(e,t,o){},91:function(e,t,o){"use strict";o.r(t);var n=o(1),a=o.n(n),i=o(56),s=o.n(i),c=(o(68),o(6)),r=o(7),l=o(9),u=o(8),h=o(10),p=o(57),d=o.n(p),m=o(36),g=o(95),f=o(96),v=o(60),b=[{name:"Jakarta",geo:[106.8451,-6.2146]},{name:"Tokyo",geo:[139.839478,35.652832]},{name:"London",geo:[-.118092,51.509865]},{name:"S\xe3o Paulo",geo:[-46.62529,-23.533773]},{name:"New York",geo:[-73.935242,40.73061]},{name:"Paris",geo:[2.349014,48.864716]},{name:"Los Angeles",geo:[-118.243683,34.052235]},{name:"Chicago",geo:[-87.65005,41.85003]},{name:"Singapore",geo:[103.851959,1.29027]},{name:"Istanbul",geo:[28.97953,41.015137]},{name:"Osaka",geo:[135.497009,34.669529]},{name:"Toronto",geo:[-79.347015,43.65107]},{name:"Madrid",geo:[-3.70379,40.416775]},{name:"Seoul",geo:[127.024612,37.5326]},{name:"Miami",geo:[-80.191788,25.761681]},{name:"Atlanta",geo:[-84.38633,33.753746]},{name:"Houston",geo:[-95.358421,29.749907]}],w=function(e){function t(e){var o;return Object(c.a)(this,t),(o=Object(l.a)(this,Object(u.a)(t).call(this,e))).color=function(){return o.state.isHover?"#a2e91e":"#E91E63"},o.toggleHover=function(){console.log("hover change...");var e=!o.state.isHover;o.setState({loc:o.state.loc,isHover:e}),console.log(o.state.isHover),o.state.isHover?(console.log("reset..."),o.props.updateWindow([],"",{})):(console.log("update loc..."),o.props.updateWindow(o.props.loc,o.props.name,{})),console.log(o.state.isHover)},o.toggleClick=function(){console.log("click change...");var e=!o.state.isHover;console.log(o.props.name+" is "+(e?"chosen":"unchosen")),console.log("now "+o.props.name+" is "+(o.state.isHover?"chosen":"unchosen")),!0===e?(console.log("update loc..."),o.props.updateWindow(o.props.loc,o.props.name,{})):(console.log("reset..."),o.props.updateWindow([],"",{}))},o.info=function(){console.log("return infoPad...");return a.a.createElement("div",{style:{position:"absolute",backgroundColor:"black",width:100,height:100,top:0,left:0}})},o.state={loc:e.loc,isHover:e.chosen},o}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(){console.log("DidUpdate..."),this.state.isHover=this.props.chosen}},{key:"render",value:function(){return a.a.createElement("g",{className:"markers"},a.a.createElement("circle",{cx:this.state.loc[0],cy:this.state.loc[1],r:10,fill:this.props.color,className:"marker",onClick:this.toggleClick}))}}]),t}(a.a.Component),O=o(42),j=(o(69),o(58)),E={nodeHighlightBehavior:!0,node:{size:360,highlightStrokeColor:"blue"},link:{highlightColor:"lightblue"}},y=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return a.a.createElement(j.Graph,{id:this.props.id,data:this.props.data,config:E})}}]),t}(a.a.Component),k=function(e){var t=e.data,o=e.index,n=e.style;return a.a.createElement("div",{className:o%2===0?"RowEven":"RowOdd",style:n},a.a.createElement(y,{id:"test1",data:t}))},W=function(e){var t=e.data,o=e.index,n=e.style,i=t[o].sentiment[1],s=-t[o].sentiment[2];0===i&&0===s&&(i=.5,s=.5);var c=i/(i+s)*108,r={position:"absolute",left:6,top:20,width:c,height:5,backgroundColor:"#9ad67e"},l={position:"absolute",left:6+c,top:20,width:108-c,height:5,backgroundColor:"#d93016"};return a.a.createElement("div",{className:o%2===0?"RowEven":"RowOdd",style:n},a.a.createElement("div",{style:{position:"absolute",top:5}},t[o].topic),a.a.createElement("div",{style:r}),a.a.createElement("div",{style:l}))},C=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.data.length,t=35*e>150?150:35*e;return a.a.createElement(O.a,{height:t,itemCount:e,itemSize:35,width:120,itemData:this.props.data},W)}}]),t}(a.a.Component),S=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return a.a.createElement(O.a,{height:500,itemCount:1,itemSize:500,width:500,itemData:this.props.data},k)}}]),t}(a.a.Component),H=(o(78),o(85),o(86),o(87),"https://hw1-jl5255.appspot.com/"),N=Object(g.a)().scale(240).translate([600,337.5]),P=function(e){function t(e){var o;Object(c.a)(this,t),(o=Object(l.a)(this,Object(u.a)(t).call(this,e))).updateWindow=function(e,t,n){console.log("showing "+t+"...");var a=Object(m.a)({},o.state);for(var i in a.chosen)a.chosen[i]=!1;""!==t&&(a.chosen[t]=!0),a.infoWindow.loc=e,a.infoWindow.name=t,a.infoWindow.data=n,o.setState(a)},o.renderWindow=function(){if(""!==o.state.infoWindow.name){var e={position:"absolute",top:o.state.infoWindow.loc[1]+32,left:o.state.infoWindow.loc[0]+12,backgroundColor:"#f5f2e9"};console.log("return info...");var t=o.state.infoWindow.name,n=o.state.data.plainData[t];return n||(n=[{topic:"No Data",sentiment:[0,.5,-.5]}]),a.a.createElement("div",{style:e},a.a.createElement("p",null,t),a.a.createElement(C,{data:n}))}return console.log("return none..."),null},o.chartButton=function(){var e=Object(m.a)({},o.state),t=!o.state.isPaneOpen;e.isPaneOpen=t,o.setState(e)};var n={},i=0;for(i=0;i<b.length;++i)n[b[i].name]=!1;o.state={geographies:[],chosen:n,infoWindow:{loc:[],name:""},data:{},isPaneOpen:!1},fetch("/world-110m.json").then((function(e){200!==e.status&&console.log("There was a problem: ".concat(e.status)),e.json().then((function(e){o.setState({geographies:Object(v.a)(e,e.objects.countries).features,chosen:o.state.chosen,infoWindow:o.state.infoWindow,data:o.state.data,isPaneOpen:o.state.isPaneOpen})}))}));try{console.log("trying..."),fetch(H,{mode:"cors",credentials:"same-origin"}).then((function(e){200!==e.status&&(console.log("failed..."),console.log(e)),e.json().then((function(e){console.log(e),o.state.data=e}))}))}catch(s){console.log(s)}return o}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){try{console.log("trying..."),fetch(H,{mode:"cors",credentials:"same-origin"}).then((function(t){200!==t.status&&(console.log("failed..."),console.log(t)),console.log(t),t.json().then((function(t){console.log(t);var o=Object(m.a)({},e.state);o.data=t,e.setState(o)}))}))}catch(t){console.log(t)}}),1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"renderChart",value:function(){if(console.log(this.state.isPaneOpen),this.state.isPaneOpen){return a.a.createElement("div",{style:{position:"absolute",top:25,left:5,backgroundColor:"#f5f2e9"}},a.a.createElement(S,{data:this.state.data.locGraph}))}return null}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{position:"relative"}},a.a.createElement("div",{style:{marginTop:"32px",top:10,left:10,width:150}},a.a.createElement("button",{onClick:this.chartButton},"......")),a.a.createElement("svg",{width:1200,height:675,viewBox:"0 0 ".concat(1200..toString(10)," ",675..toString(10))},a.a.createElement("g",{className:"countries"},this.state.geographies.map((function(t,o){return a.a.createElement("path",{key:"path-".concat(o),d:Object(f.a)().projection(N)(t),className:"country",fill:"rgba(38,50,56,".concat(1/e.state.geographies.length*o,")"),stroke:"#FFFFFF",strokeWidth:.5})}))),b.map((function(t){return a.a.createElement(w,{updateWindow:e.updateWindow,loc:N(t.geo),color:e.state.chosen[t.name]?"#A2E91E":"#E91E63",name:t.name,chosen:e.state.chosen[t.name]})}))),this.renderWindow(),this.renderChart())}}]),t}(a.a.Component),A=(o(88),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("img",{src:d.a,className:"App-logo",alt:"logo"}),a.a.createElement("h1",{className:"App-title"},"Welcome to React")),a.a.createElement("p",{className:"App-intro"},"Twitter Sentiment by Location / Topic"),a.a.createElement(P,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[63,1,2]]]);
//# sourceMappingURL=main.ecb6dde0.chunk.js.map